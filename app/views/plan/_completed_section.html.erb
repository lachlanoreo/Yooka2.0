<div id="completed-section"
     data-controller="completed-section"
     class="mt-4 rounded-lg border border-zinc-200 bg-zinc-50">
  <button type="button"
          class="flex w-full items-center justify-between p-3 text-left"
          data-action="click->completed-section#toggle">
    <h2 class="text-sm font-semibold text-zinc-600">
      Completed
      <span class="ml-1 text-xs font-normal text-zinc-400">(<%= completed_tasks.count %>)</span>
    </h2>
    <svg data-completed-section-target="icon"
         xmlns="http://www.w3.org/2000/svg"
         class="h-4 w-4 text-zinc-400 transition-transform"
         fill="none"
         viewBox="0 0 24 24"
         stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  <div data-completed-section-target="content" class="hidden border-t border-zinc-200">
    <div class="space-y-1 p-3" data-completed-section-target="taskList">
      <% completed_tasks.each do |task| %>
        <%= render "plan/completed_task_row", task: task %>
      <% end %>
      <% if completed_tasks.empty? %>
        <p class="py-2 text-center text-xs text-zinc-400">No completed tasks</p>
      <% end %>
    </div>
  </div>
</div>

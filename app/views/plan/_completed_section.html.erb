<div id="completed-section"
     data-controller="completed-section"
     class="completed-section">
  <button type="button"
          class="completed-section__header"
          data-action="click->completed-section#toggle">
    <h2 class="completed-section__title">
      Completed
      <span class="completed-section__count">(<%= completed_tasks.count %>)</span>
    </h2>
    <svg data-completed-section-target="icon"
         xmlns="http://www.w3.org/2000/svg"
         class="completed-section__icon h-4 w-4"
         fill="none"
         viewBox="0 0 24 24"
         stroke="currentColor"
         stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  <div data-completed-section-target="content" class="completed-section__content hidden">
    <div class="completed-section__list" data-completed-section-target="taskList">
      <% completed_tasks.each do |task| %>
        <%= render "plan/completed_task_row", task: task %>
      <% end %>
      <% if completed_tasks.empty? %>
        <p class="completed-section__empty">No completed tasks yet</p>
      <% end %>
    </div>
  </div>
</div>
